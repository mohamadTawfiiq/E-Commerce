import{a as F}from"./chunk-7B2TGVEO.js";import{l as P}from"./chunk-KDUMAKCF.js";import{d as V}from"./chunk-TROJL5PG.js";import"./chunk-T7Y5CFBQ.js";import"./chunk-SX5AWIEO.js";import{$ as f,Eb as l,Fb as E,Gb as x,Lb as T,Ma as S,Nb as b,Qa as s,ca as h,fb as w,hb as C,lb as y,ma as m,na as p,nb as g,ob as k,pb as n,qb as o,rb as u,ub as v,wb as _,xb as d}from"./chunk-A6ZNTDGY.js";var I=(i,a)=>a._id,D=i=>["/orders",i],O=i=>["/cashOrder",i];function $(i,a){if(i&1){let e=v();n(0,"div",5)(1,"div",7)(2,"div",8),u(3,"img",9),o()(),n(4,"div",10)(5,"div",8)(6,"h4",4),l(7),o(),n(8,"h5",11),l(9),o(),n(10,"span",12),_("click",function(){let t=m(e).$implicit,c=d(2);return p(c.DeleteOroduct(t.product._id))}),u(11,"i",13),l(12," Remove"),o()(),n(13,"div",14)(14,"span",15),_("click",function(){let t=m(e).$implicit,c=d(2);return p(c.UpdateCount(t.product._id,t.count+1))}),u(15,"i",16),o(),n(16,"span",17),l(17),o(),n(18,"span",15),_("click",function(){let t=m(e).$implicit,c=d(2);return p(c.UpdateCount(t.product._id,t.count-1))}),u(19,"i",18),o()()()()}if(i&2){let e=a.$implicit;s(3),C("src",e.product.imageCover,S)("alt",e.product.title),s(4),x("Name : ",e.product.title," "),s(2),x("Price : ",e.price," | "),s(8),E(e.count)}}function L(i,a){if(i&1){let e=v();n(0,"div",0)(1,"div",1)(2,"h1",2),l(3," Shop Cart :"),o(),n(4,"button",3),_("click",function(){m(e);let t=d();return p(t.ClearCart())}),l(5,"Clear Cart"),o()(),n(6,"h3",4),l(7),o(),g(8,$,20,5,"div",5,I),n(10,"button",6),l(11,"Payment By Visa"),o(),n(12,"button",6),l(13,"Payment By cash"),o()()}if(i&2){let e=d();s(7),x(" Total Cart Price : ",e.userCart.totalCartPrice,""),s(),k(e.userCart.products),s(2),C("routerLink",b(3,D,e.userCart._id)),s(2),C("routerLink",b(5,O,e.userCart._id))}}var z=(()=>{let a=class a{constructor(){this._CartService=f(F),this._ToastrService=f(P),this.userCart={}}ngOnInit(){this._CartService.getCart().subscribe({next:r=>{console.log(r.data),this.userCart=r.data}})}DeleteOroduct(r){this._CartService.removeProduct(r).subscribe({next:t=>{console.log(t),this.userCart=t.data,this._CartService.cartNumber.next(t.numOfCartItems),this._ToastrService.warning(t.status+" product Was Deleted","Fresh Cart")}})}UpdateCount(r,t){t>0&&this._CartService.updateCount(r,t).subscribe({next:c=>{console.log(c),this.userCart=c.data}})}ClearCart(){this._CartService.deleteCart().subscribe({next:r=>{console.log(r),this.userCart={},this._CartService.cartNumber.next(0)}})}};a.\u0275fac=function(t){return new(t||a)},a.\u0275cmp=h({type:a,selectors:[["app-cart"]],standalone:!0,features:[T],decls:1,vars:1,consts:[[1,"container","mt-5","bg-body-secondary","p-3"],[1,"d-flex","justify-content-between","mt-4"],[1,"text-main"],[1,"btn","btn-outline-danger","fw-bolder","py-2","px-4",3,"click"],[1,"fw-bolder"],[1,"row","mb-2","border-bottom","bg-body-secondary","p-3"],[1,"btn-main","mt-3",3,"routerLink"],[1,"col-md-1"],[1,"inner"],[1,"w-100",3,"src","alt"],[1,"col-md-11","d-flex","justify-content-between"],[1,"fw-bolder","text-main"],[1,"cr","text-danger","fw-bold",3,"click"],[1,"fa-solid","fa-trash"],[1,"count","d-flex","align-items-center"],[1,"text-main","cr",3,"click"],[1,"fa-solid","fa-plus-circle","fa-2x"],[1,"mx-3","fw-bolder","text-primary"],[1,"fa-solid","fa-minus-circle","fa-2x"]],template:function(t,c){t&1&&w(0,L,14,7,"div",0),t&2&&y(0,c.userCart.totalCartPrice!=0?0:-1)},dependencies:[V]});let i=a;return i})();export{z as CartComponent};
