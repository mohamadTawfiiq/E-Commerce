import './polyfills.server.mjs';
import{a as F}from"./chunk-55W26JLI.mjs";import{a as k}from"./chunk-DRANPJPH.mjs";import{a as y}from"./chunk-YV3BGSB4.mjs";import{a as A}from"./chunk-56NGNGEP.mjs";import"./chunk-GTSSCL6B.mjs";import"./chunk-QKIAIGA6.mjs";import{a as E}from"./chunk-RAJTPVA5.mjs";import"./chunk-TLHJX3RA.mjs";import"./chunk-UNDE556V.mjs";import{$ as C,Db as c,Eb as m,Fb as b,Kb as w,La as S,Lb as D,Pa as o,X as l,eb as f,gb as g,ja as u,ka as _,kb as h,lb as P,mb as W,nb as T,ob as n,pb as r,qb as x,tb as p,vb as v,wb as d}from"./chunk-EDBUG26B.mjs";import"./chunk-VVCT4QZE.mjs";var I=()=>[1,2,3,4,5];function O(a,s){if(a&1){let e=p();n(0,"i",13),v("click",function(){u(e);let t=d(2);return _(t.addToWishlist(t.detailsProduct.id))}),r()}}function L(a,s){if(a&1){let e=p();n(0,"i",14),v("click",function(){u(e);let t=d(2);return _(t.removeFromWishlist(t.detailsProduct.id))}),r()}}function M(a,s){a&1&&(n(0,"span"),x(1,"i",15),r())}function R(a,s){if(a&1){let e=p();n(0,"div",0)(1,"h1",1),c(2," ALL Details About Product"),r(),n(3,"div",2)(4,"div",3)(5,"div",4),x(6,"img",5),r()(),n(7,"div",6)(8,"div",4)(9,"div",7)(10,"h2"),c(11),r(),f(12,O,1,0,"i",8)(13,L,1,0,"i",9),r(),n(14,"p"),c(15),r(),n(16,"h3",10),c(17),r(),n(18,"div",7)(19,"span"),c(20),r(),n(21,"div"),W(22,M,2,0,"span",null,P),n(24,"span",11),c(25),r()()()(),n(26,"button",12),v("click",function(){u(e);let t=d();return _(t.addToCart())}),c(27,"+ Add To Cart"),r()()()()}if(a&2){let e=d();o(6),g("src",e.detailsProduct.imageCover,S)("alt",e.detailsProduct.title),o(5),m(e.detailsProduct.title),o(),h(12,e._WishlistService.WishlistData.includes(e.detailsProduct.id)?-1:12),o(),h(13,e._WishlistService.WishlistData.includes(e.detailsProduct.id)?13:-1),o(2),m(e.detailsProduct.description),o(2),m(e.detailsProduct.category.name),o(3),b("",e.detailsProduct.price,"EGP"),o(2),T(D(9,I).slice(0,e.detailsProduct.ratingsAverage)),o(3),m(e.detailsProduct.ratingsAverage)}}var J=(()=>{let s=class s{constructor(){this._ActivatedRoute=l(E),this._ProductService=l(F),this._CartService=l(y),this._ToastrService=l(A),this._WishlistService=l(k),this.detailsProduct=null,this.idOf_Product=""}ngOnInit(){this._ActivatedRoute.paramMap.subscribe({next:i=>{console.log(i.get("id")),this.idOf_Product=i.get("id"),this._ProductService.getSpecificProduct(this.idOf_Product).subscribe({next:t=>{console.log(t.data),this.detailsProduct=t.data},error:t=>{console.log(t)}})}}),this._WishlistService.getUserWishlist().subscribe({next:i=>{this._WishlistService.WishlistData=i.data.map(t=>t._id)}})}addToCart(){this._CartService.addProductToCart(this.idOf_Product).subscribe({next:i=>{console.log(i),this._ToastrService.success(i.message,"Fresh Products"),this._CartService.cartNumber.next(i.numOfCartItems)}})}addToWishlist(i){this._WishlistService.addToWishlist(i).subscribe({next:t=>{console.log(t),this._ToastrService.success("Successfully Added To Wish List","Fresh Products"),this._WishlistService.WishlistData=t.data}})}removeFromWishlist(i){this._WishlistService.removeFromWishlist(i).subscribe({next:t=>{console.log(t),this._ToastrService.warning(t.message,"Fresh Cart"),this._WishlistService.WishlistData=t.data}})}};s.\u0275fac=function(t){return new(t||s)},s.\u0275cmp=C({type:s,selectors:[["app-details"]],standalone:!0,features:[w],decls:1,vars:1,consts:[[1,"p-1","mt-5"],[1,"text-center","my-4","alert","alert-success","w-75","mx-auto"],[1,"row","align-items-center"],[1,"col-md-3"],[1,"inner"],[1,"w-100",3,"src","alt"],[1,"col-md-9"],[1,"d-flex","justify-content-between","align-items-center"],[1,"fa-regular","fa-heart","fa-3x","me-4","cr"],[1,"fa-solid","fa-heart","text-danger","fa-3x","me-4","cr"],[1,"h6","text-main"],[1,"text-muted"],[1,"btn-main","w-100","mt-4",3,"click"],[1,"fa-regular","fa-heart","fa-3x","me-4","cr",3,"click"],[1,"fa-solid","fa-heart","text-danger","fa-3x","me-4","cr",3,"click"],[1,"fas","fa-star","rating-color"]],template:function(t,V){t&1&&f(0,R,28,10,"div",0),t&2&&h(0,V.detailsProduct?0:-1)}});let a=s;return a})();export{J as DetailsComponent};
