import './polyfills.server.mjs';
import{a as T}from"./chunk-DRANPJPH.mjs";import{a as W}from"./chunk-YV3BGSB4.mjs";import{a as F}from"./chunk-56NGNGEP.mjs";import"./chunk-GTSSCL6B.mjs";import"./chunk-QKIAIGA6.mjs";import"./chunk-TLHJX3RA.mjs";import"./chunk-UNDE556V.mjs";import{$ as f,Db as a,Fb as v,Kb as g,La as x,Pa as l,X as m,gb as b,ja as d,ka as h,mb as w,nb as C,ob as c,pb as s,qb as p,tb as S,vb as _,wb as u}from"./chunk-EDBUG26B.mjs";import"./chunk-VVCT4QZE.mjs";var y=(r,t)=>t._id;function k(r,t){if(r&1){let n=S();c(0,"div",2)(1,"div",3),p(2,"img",4),s(),c(3,"div",5)(4,"div",6)(5,"h3"),a(6),s(),c(7,"h4",7),a(8),s(),c(9,"span",8),_("click",function(){let e=d(n).$implicit,o=u();return h(o.removeFromWishlist(e._id))}),p(10,"i",9),a(11," Remove "),s()(),c(12,"div")(13,"button",10),_("click",function(){let e=d(n).$implicit,o=u();return h(o.addToCart(e._id))}),a(14,"Add To Cart"),s()()()()}if(r&2){let n=t.$implicit;l(2),b("src",n.imageCover,x)("alt",n.title),l(4),v("name : ",n.title.split(" ",2).join(" ")," "),l(2),v("Price : ",n.price," ")}}var P=(()=>{let t=class t{constructor(){this._WishlistService=m(T),this._CartService=m(W),this._ToastrService=m(F)}ngOnInit(){this._WishlistService.getUserWishlist().subscribe({next:i=>{console.log(i),this.wishList=i.data}})}removeFromWishlist(i){this._WishlistService.removeFromWishlist(i).subscribe({next:e=>{console.log(e),this._ToastrService.success(e.message,"Fresh Cart"),this.wishList=this.wishList.filter(o=>e.data.includes(o._id))}})}addToCart(i){this._CartService.addProductToCart(i).subscribe({next:e=>{console.log(e),this._ToastrService.success(e.message,"Fresh Products"),this._CartService.cartNumber.next(e.numOfCartItems)}})}};t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=f({type:t,selectors:[["app-wishlist"]],standalone:!0,features:[g],decls:5,vars:0,consts:[[1,"container","py-1","mt-5"],[1,"text-main","text-center","fw-bolder","bg-success-subtle","mt-5","mb-3","py-3","rounded-4"],[1,"row","w-75","mx-auto","bg-body-secondary","shadow","border-bottom","mb-2"],[1,"col-md-2"],[1,"w-100",3,"src","alt"],[1,"col-md-10","d-flex","align-items-center","justify-content-between"],[1,""],[1,"text-main"],[1,"cr","text-danger","fw-bold",3,"click"],[1,"fa-solid","fa-trash"],[1,"btn-main",3,"click"]],template:function(e,o){e&1&&(c(0,"div",0)(1,"h1",1),a(2,"Wish List"),s(),w(3,k,15,4,"div",2,y),s()),e&2&&(l(3),C(o.wishList))}});let r=t;return r})();export{P as WishlistComponent};
