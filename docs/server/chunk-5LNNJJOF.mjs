import './polyfills.server.mjs';
import{a as k}from"./chunk-OW5HWKA7.mjs";import"./chunk-QZLY374Y.mjs";import{a as P,b as p,c as A,d as M,e as I,f as E,h as L,i as V,j as D,m as G}from"./chunk-ZTFRRJOI.mjs";import"./chunk-QKIAIGA6.mjs";import{d as q}from"./chunk-RAJTPVA5.mjs";import"./chunk-TLHJX3RA.mjs";import{j as N}from"./chunk-UNDE556V.mjs";import{$ as x,Db as a,Eb as b,Kb as y,Nb as T,Pa as m,X as S,eb as u,gb as w,kb as d,ob as n,pb as t,qb as g,vb as R,wb as C}from"./chunk-EDBUG26B.mjs";import"./chunk-VVCT4QZE.mjs";var $=(e,r)=>({"is-valid":e,"is-invalid":r});function j(e,r){e&1&&(n(0,"p",20),a(1,"Name Is Required"),t())}function O(e,r){e&1&&(n(0,"p",20),a(1,"Name Should be more than or equal 3 char"),t())}function z(e,r){e&1&&(n(0,"p",20),a(1,"Name Should be less than or equal 20 char"),t())}function B(e,r){if(e&1&&(n(0,"div",7),u(1,j,2,0,"p",20)(2,O,2,0)(3,z,2,0),t()),e&2){let o,l=C();m(),d(1,(o=l.registerForm.get("name"))!=null&&o.getError("required")?1:(o=l.registerForm.get("name"))!=null&&o.getError("minlength")?2:(o=l.registerForm.get("name"))!=null&&o.getError("maxlength")?3:-1)}}function H(e,r){e&1&&(n(0,"p",20),a(1,"email Is Required"),t())}function J(e,r){e&1&&(n(0,"p",20),a(1,"Enter Valid Email "),t())}function K(e,r){if(e&1&&(n(0,"div",7),u(1,H,2,0,"p",20)(2,J,2,0),t()),e&2){let o,l=C();m(),d(1,(o=l.registerForm.get("email"))!=null&&o.getError("required")?1:(o=l.registerForm.get("email"))!=null&&o.getError("email")?2:-1)}}function Q(e,r){e&1&&(n(0,"p",20),a(1,"password Is Required"),t())}function U(e,r){e&1&&(n(0,"p",20),a(1,"Enter Valid password "),t())}function W(e,r){if(e&1&&(n(0,"div",7),u(1,Q,2,0,"p",20)(2,U,2,0),t()),e&2){let o,l=C();m(),d(1,(o=l.registerForm.get("password"))!=null&&o.getError("required")?1:(o=l.registerForm.get("password"))!=null&&o.getError("pattern")?2:-1)}}function X(e,r){e&1&&(n(0,"p",14),a(1,"Password Is Not Match"),t())}function Y(e,r){e&1&&(n(0,"p",20),a(1,"phone Is Required"),t())}function Z(e,r){e&1&&(n(0,"p",20),a(1,"Enter Valid phone "),t())}function ee(e,r){if(e&1&&(n(0,"div",7),u(1,Y,2,0,"p",20)(2,Z,2,0),t()),e&2){let o,l=C();m(),d(1,(o=l.registerForm.get("phone"))!=null&&o.getError("required")?1:(o=l.registerForm.get("phone"))!=null&&o.getError("pattern")?2:-1)}}function te(e,r){e&1&&(n(0,"span"),g(1,"i",21),t())}function ie(e,r){if(e&1&&(n(0,"p",18),a(1),t()),e&2){let o=C();m(),b(o.errMessg)}}function ne(e,r){e&1&&(n(0,"p",19),a(1,"Account Created Successfuly"),t())}var pe=(()=>{let r=class r{constructor(){this._AuthService=S(k),this._Router=S(q),this.messageSuccess=!1,this.errMessg="",this.isLoading=!1,this.registerForm=new I({name:new E(null,[p.required,p.minLength(3),p.maxLength(20)]),email:new E(null,[p.required,p.email]),password:new E(null,[p.required,p.pattern(/^\w{6,}$/)]),rePassword:new E(null),phone:new E(null,[p.required,p.pattern(/^01[0125][0-9]{8}$/)])},this.confirmPass)}confirmPass(l){return l.get("password")?.value===l.get("rePassword")?.value?null:{mismatch:!0}}registerSubmit(){this.registerForm.valid?(console.log(this.registerForm),this.isLoading=!0,this.unSubscribeRegist=this._AuthService.setRegisterForm(this.registerForm.value).subscribe({next:l=>{console.log(l),l.message=="success"&&(this.messageSuccess=!0,setTimeout(()=>{this._Router.navigate(["/login"])},1e3)),this.isLoading=!1},error:l=>{console.log(l),this.errMessg=l.error.message,this.isLoading=!1}})):(this.registerForm.setErrors({mismatch:!0}),this.registerForm.markAllAsTouched(),this.errMessg="All Inputs Are Required ...")}ngOnDestroy(){this.unSubscribeRegist?.unsubscribe()}};r.\u0275fac=function(F){return new(F||r)},r.\u0275cmp=x({type:r,selectors:[["app-register"]],standalone:!0,features:[y],decls:36,vars:13,consts:[[1,"bg-main-light","shadow","p-2","rounded-4"],[1,"container"],[1,"h2","text-main","mb-4"],[3,"ngSubmit","formGroup"],[1,"my-2"],["for","name"],["id","name","type","text","formControlName","name",1,"form-control",3,"ngClass"],[1,"alert","alert-danger","w-50"],["for","email"],["id","email","type","email","formControlName","email",1,"form-control"],["for","password"],["id","password","type","password","formControlName","password",1,"form-control"],["for","repassword"],["id","repassword","type","password","formControlName","rePassword",1,"form-control"],[1,"alert","alert-danger","w-50","m-0"],["for","phone"],["id","phone","type","tel","formControlName","phone",1,"form-control"],["type","submit",1,"btn-main","d-block","ms-auto"],[1,"alert","alert-danger","w-50","m-auto","text-center"],[1,"alert","alert-success","w-50","m-auto","text-center"],[1,"m-0"],[1,"fas","fa-spin","fa-spinner"]],template:function(F,i){if(F&1&&(n(0,"section",0)(1,"div",1)(2,"h1",2),a(3," Register Now :"),t(),g(4,"hr"),n(5,"form",3),R("ngSubmit",function(){return i.registerSubmit()}),n(6,"div",4)(7,"label",5),a(8,"Name :"),t(),g(9,"input",6),u(10,B,4,1,"div",7),t(),n(11,"div",4)(12,"label",8),a(13,"Email :"),t(),g(14,"input",9),u(15,K,3,1,"div",7),t(),n(16,"div",4)(17,"label",10),a(18,"Password :"),t(),g(19,"input",11),u(20,W,3,1,"div",7),t(),n(21,"div",4)(22,"label",12),a(23,"Repassword :"),t(),g(24,"input",13),u(25,X,2,0,"p",14),t(),n(26,"div",4)(27,"label",15),a(28,"Phone :"),t(),g(29,"input",16),u(30,ee,3,1,"div",7),t(),n(31,"button",17),a(32,"Register "),u(33,te,2,0,"span"),t(),u(34,ie,2,1,"p",18)(35,ne,2,0,"p",19),t()()()),F&2){let s,c,_,f,v,h;m(5),w("formGroup",i.registerForm),m(4),w("ngClass",T(10,$,!((s=i.registerForm.get("name"))!=null&&s.errors)&&(((s=i.registerForm.get("name"))==null?null:s.touched)||((s=i.registerForm.get("name"))==null?null:s.dirty)),((s=i.registerForm.get("name"))==null?null:s.errors)&&(((s=i.registerForm.get("name"))==null?null:s.touched)||((s=i.registerForm.get("name"))==null?null:s.dirty)))),m(),d(10,(c=i.registerForm.get("name"))!=null&&c.errors&&((c=i.registerForm.get("name"))!=null&&c.touched||(c=i.registerForm.get("name"))!=null&&c.dirty)?10:-1),m(5),d(15,(_=i.registerForm.get("email"))!=null&&_.errors&&((_=i.registerForm.get("email"))!=null&&_.touched||(_=i.registerForm.get("email"))!=null&&_.dirty)?15:-1),m(5),d(20,(f=i.registerForm.get("password"))!=null&&f.errors&&((f=i.registerForm.get("password"))!=null&&f.touched||(f=i.registerForm.get("password"))!=null&&f.dirty)?20:-1),m(5),d(25,i.registerForm.getError("mismatch")&&((v=i.registerForm.get("rePassword"))!=null&&v.touched||(v=i.registerForm.get("rePassword"))!=null&&v.dirty)?25:-1),m(5),d(30,(h=i.registerForm.get("phone"))!=null&&h.errors&&((h=i.registerForm.get("phone"))!=null&&h.touched||(h=i.registerForm.get("phone"))!=null&&h.dirty)?30:-1),m(3),d(33,i.isLoading?33:-1),m(),d(34,i.errMessg!=""?34:-1),m(),d(35,i.messageSuccess==!0?35:-1)}},dependencies:[G,L,P,A,M,V,D,N]});let e=r;return e})();export{pe as RegisterComponent};
