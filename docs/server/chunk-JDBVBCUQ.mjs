import './polyfills.server.mjs';
import{a as F}from"./chunk-XEU3IHVX.mjs";import{a as b,b as n,c as S,d as g,h as y,i as x,j as C,k as _,m as E}from"./chunk-ZTFRRJOI.mjs";import"./chunk-QKIAIGA6.mjs";import{a as v}from"./chunk-RAJTPVA5.mjs";import"./chunk-TLHJX3RA.mjs";import"./chunk-UNDE556V.mjs";import{$ as u,Db as o,Kb as h,Pa as c,X as a,gb as p,ob as i,pb as t,qb as m,vb as f}from"./chunk-EDBUG26B.mjs";import"./chunk-VVCT4QZE.mjs";var M=(()=>{let r=class r{constructor(){this._FormBuilder=a(_),this._ActivatedRoute=a(v),this._OrdersService=a(F),this.orders=this._FormBuilder.group({details:[null,[n.required,n.minLength(30),n.maxLength(200)]],phone:[null,[n.required,n.pattern(/^01[0125][0-9]{8}$/)]],city:[null]}),this.cartId=""}ngOnInit(){this._ActivatedRoute.paramMap.subscribe({next:e=>{this.cartId=e.get("id"),console.log(this.cartId)}})}navToStripe(){this._OrdersService.paymentByVisa(this.cartId,this.orders.value).subscribe({next:e=>{console.log(e),e.status=="success"&&open(e.session.url)},error:e=>{console.log(e)}})}};r.\u0275fac=function(l){return new(l||r)},r.\u0275cmp=u({type:r,selectors:[["app-orders"]],standalone:!0,features:[h],decls:18,vars:1,consts:[[1,"container","shadow","rounded-4","my-3","p-3"],[1,"text-center","text-main","fw-bolder"],[3,"ngSubmit","formGroup"],[1,"my-3"],["for","details",1,"fw-bolder"],["formControlName","details","id","details",1,"form-control"],["for","phone",1,"fw-bolder"],["formControlName","phone","id","phone","type","tel",1,"form-control"],["for","city",1,"fw-bolder"],["formControlName","city","id","city","type","text",1,"form-control"],["type","submit",1,"btn","btn-main"]],template:function(l,d){l&1&&(i(0,"div",0)(1,"h1",1),o(2,"Shipping Adderss"),t(),i(3,"form",2),f("ngSubmit",function(){return d.navToStripe()}),i(4,"div",3)(5,"label",4),o(6,"Details"),t(),m(7,"textarea",5),t(),i(8,"div",3)(9,"label",6),o(10,"Phone"),t(),m(11,"input",7),t(),i(12,"div",3)(13,"label",8),o(14,"City"),t(),m(15,"input",9),t(),i(16,"button",10),o(17,"Submit"),t()()()),l&2&&(c(3),p("formGroup",d.orders))},dependencies:[E,y,b,S,g,x,C]});let s=r;return s})();export{M as OrdersComponent};
